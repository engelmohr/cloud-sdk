<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="search" type="application/opensearchdescription+xml" title="SAP Cloud SDK" href="/cloud-sdk/opensearch.xml">
<script src="https://sap.github.io/cloud-sdk/js/swa.js"></script><title data-react-helmet="true">Generic Advanced OData Client | SAP Cloud SDK</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://sap.github.io/cloud-sdk/docs/java/features/odata/generic-untyped-odata-client"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Generic Advanced OData Client | SAP Cloud SDK"><meta data-react-helmet="true" name="description" content="Together with type-safe OData client we provide a more generic and untyped OData client implementation to be used in advanced use-cases when the capabilities of typed OData client are not yet covering your use-case or fundamentally not enough to achieve your development goals. You can leverage untyped generic OData client for workarounds and trying out OData features that are not very frequently used. It&#x27;s also helpful in a situation when flexibility is above safety and convenience."><meta data-react-helmet="true" property="og:description" content="Together with type-safe OData client we provide a more generic and untyped OData client implementation to be used in advanced use-cases when the capabilities of typed OData client are not yet covering your use-case or fundamentally not enough to achieve your development goals. You can leverage untyped generic OData client for workarounds and trying out OData features that are not very frequently used. It&#x27;s also helpful in a situation when flexibility is above safety and convenience."><meta data-react-helmet="true" name="keywords" content="sap,cloud,sdk,cloud native,cloud sdk,sap cloud sdk"><link data-react-helmet="true" rel="shortcut icon" href="/cloud-sdk/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://sap.github.io/cloud-sdk/docs/java/features/odata/generic-untyped-odata-client"><link data-react-helmet="true" rel="alternate" href="https://sap.github.io/cloud-sdk/docs/java/features/odata/generic-untyped-odata-client" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://sap.github.io/cloud-sdk/docs/java/features/odata/generic-untyped-odata-client" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/cloud-sdk/assets/css/styles.3f428f1f.css">
<link rel="preload" href="/cloud-sdk/assets/js/runtime~main.11894c1d.js" as="script">
<link rel="preload" href="/cloud-sdk/assets/js/main.dce18013.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cloud-sdk/"><div class="navbar__logo"><img src="/cloud-sdk/img/logo.svg" alt="SAP Cloud SDK" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/cloud-sdk/img/logo-dark.svg" alt="SAP Cloud SDK" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">SAP Cloud SDK</b></a><a class="navbar__item navbar__link" href="/cloud-sdk/docs/overview/overview-cloud-sdk">Docs</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">Support</a><ul class="dropdown__menu"><li><a href="https://stackoverflow.com/questions/tagged/sap-cloud-sdk" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Stack Overflow<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://github.com/SAP/cloud-sdk-js/issues/new/choose" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>GitHub JavaScript<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://github.com/SAP/cloud-sdk/issues/new?assignees=&amp;labels=Java&amp;template=sap-cloud-sdk-for-java-issue.md&amp;title=" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span> GitHub Java<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a class="dropdown__link" href="/cloud-sdk/docs/overview/get-support">Support Details</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">Release Notes</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cloud-sdk/docs/java/release-notes-sap-cloud-sdk-for-java">Java</a></li><li><a href="https://github.com/SAP/cloud-sdk-js/releases" target="_blank" rel="noopener noreferrer" class="dropdown__link">JS/TS Core</a></li><li><a class="dropdown__link" href="/cloud-sdk/docs/js/release-notes-sap-cloud-sdk-for-javascript-and-typescript">JS/TS Client Libraries</a></li></ul></div><a href="https://search.maven.org/search?q=g:com.sap.cloud.sdk*" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Maven Central<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">npm</a><ul class="dropdown__menu"><li><a href="https://www.npmjs.com/search?q=sap-cloud-sdk*" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Core Modules<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://www.npmjs.com/search?q=sap%2Fsap-cloud-vdm*" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>SAP S/4HANA Cloud<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://www.npmjs.com/search?q=sap%2Fsap-cloud-op*" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>SAP S/4HANA On-Premise<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><a class="navbar__item navbar__link" href="/cloud-sdk/docs/overview/cloud-sdk-feature-matrix">Feature Matrix</a></div><div class="navbar__items navbar__items--right"><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Java</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/java/overview-cloud-sdk-for-java">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/java/getting-started">Getting started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Features</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">OData</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/java/features/odata/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/java/features/odata/generate-typed-odata-v2-and-v4-client-for-java">Generate an OData Client</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/java/features/odata/use-typed-odata-v2-client-in-sap-cloud-sdk-for-java">OData v2 Client API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/java/features/odata/use-typed-odata-v4-client-in-sap-cloud-sdk-for-java">OData v4 Client API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cloud-sdk/docs/java/features/odata/generic-untyped-odata-client">Generic OData Client</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">OpenAPI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/java/features/bapi-and-rfc/bapi-and-rfc-overview">BAPI/RFC</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Connectivity</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Multitenancy</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Resilience &amp; Caching</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Environments</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Guides</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Extensions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Video Tutorials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/java/sdk-java-troubleshooting-frequent-problems">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/java/release-notes-sap-cloud-sdk-for-java">Release Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/java/frequently-asked-questions">FAQ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">JavaScript</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Community</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Related Projects</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_2rXS"><div class="docItemContainer_1EXp"><article><div class="markdown"><div><div class="docsRatingContainerTop_UKLZ"><div class="docsRating">Rate this page<svg class="i_negative" alt="Dislike" xmlns="http://www.w3.org/2000/svg" width="32px" height="32px" fill="currentColor" viewBox="0 0 32 32"><path d="M 10.15625 6 C 8.746094 6 7.515625 6.996094 7.21875 8.375 L 5.0625 18.375 C 4.667969 20.222656 6.113281 22 8 22 L 13.75 22 L 13.5625 22.75 C 13.359375 22.90625 13.230469 22.972656 12.9375 23.375 C 12.46875 24.015625 12 25.007813 12 26.34375 C 12 27.769531 13.289063 29 14.90625 29 L 15.3125 29 L 15.625 28.71875 L 22.40625 22 L 27 22 L 27 6 Z M 10.15625 8 L 21 8 L 21 20.59375 L 14.59375 26.90625 C 14.171875 26.824219 14 26.652344 14 26.34375 C 14 25.441406 14.273438 24.882813 14.53125 24.53125 C 14.789063 24.179688 14.96875 24.09375 14.96875 24.09375 L 15.3125 23.90625 L 15.4375 23.5 L 16.03125 21.25 L 16.34375 20 L 8 20 C 7.339844 20 6.894531 19.425781 7.03125 18.78125 L 9.15625 8.78125 C 9.257813 8.3125 9.679688 8 10.15625 8 Z M 23 8 L 25 8 L 25 20 L 23 20 Z"></path></svg><svg class="i_positive" alt="Like" xmlns="http://www.w3.org/2000/svg" width="32px" height="32px" fill="currentColor" viewBox="0 0 32 32"><path d="M 16.6875 3 L 16.375 3.28125 L 9.59375 10 L 5 10 L 5 26 L 21.84375 26 C 23.253906 26 24.484375 25.003906 24.78125 23.625 L 26.9375 13.625 C 27.332031 11.777344 25.886719 10 24 10 L 18.25 10 L 18.4375 9.25 C 18.640625 9.09375 18.769531 9.027344 19.0625 8.625 C 19.53125 7.984375 20 6.992188 20 5.65625 C 20 4.230469 18.710938 3 17.09375 3 Z M 17.40625 5.09375 C 17.828125 5.175781 18 5.347656 18 5.65625 C 18 6.558594 17.726563 7.117188 17.46875 7.46875 C 17.210938 7.820313 17.03125 7.90625 17.03125 7.90625 L 16.6875 8.09375 L 16.5625 8.5 L 15.96875 10.75 L 15.65625 12 L 24 12 C 24.660156 12 25.105469 12.574219 24.96875 13.21875 L 22.84375 23.21875 C 22.742188 23.6875 22.320313 24 21.84375 24 L 11 24 L 11 11.40625 Z M 7 12 L 9 12 L 9 24 L 7 24 Z"></path></svg></div></div><header><h1>Generic Advanced OData Client</h1></header></div><div class="admonition admonition-danger alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Advanced! Use on your own discretion.</h5></div><div class="admonition-content"><p>The API for generic OData client is not intended to be used by application developers unless absolutely required.
Its API is a subject to change and non-breaking changes are not guaranteed.</p><p>Please, make sure you know what you&#x27;re doing and check if stable type-safe OData client API can solve you problem.</p></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="overview">Overview<a aria-hidden="true" class="hash-link" href="#overview" title="Direct link to heading">â€‹</a></h2><p>Together with type-safe OData client, we provide a more generic and untyped OData client implementation to be used in <strong>advanced</strong> use-cases when the capabilities of typed OData client are not enough to achieve your development goals.
You can leverage generic untyped OData client for:</p><ul><li>Workarounds and quick fixes</li><li>Trying out OData features that are not yet implemented in OData type-safe client.</li><li>When flexibility is above safety and convenience</li><li>Debugging and testing</li><li>Building specific OData protocol based API yourself</li><li>Integrating OData capabilities and awareness into your project</li></ul><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>The generic client is capable of both OData V2 and V4 protocols.
The client is made aware about which version to use in requests via a dedicated parameter.</p></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="basic-api-usage">Basic API Usage<a aria-hidden="true" class="hash-link" href="#basic-api-usage" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="creating-requests">Creating Requests<a aria-hidden="true" class="hash-link" href="#creating-requests" title="Direct link to heading">â€‹</a></h3><p>Requests are represented by dedicated request classes for each operation.
For example to read a collection of entities use:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">StructuredQuery query = StructuredQuery.onEntity(&quot;A_Entity&quot;, ODataProtocol.V4);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">new ODataRequestRead(&quot;/path/to/service&quot;, query);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Queries can be created conveniently as described in <a href="#building-queries">Building Queries below</a>.</p></div></div><p><strong>Other Operations:</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly txt"><pre tabindex="0" class="prism-code language-txt codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">ODataRequestRead</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataRequestReadByKey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataRequestCreate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataRequestUpdate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataRequestDelete</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataRequestFunction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataRequestAction</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>What used to be function imports in OData V2 have been split into functions and actions in the OData V4 standard.
The above classes adopt the OData V4 notion.
To perform V2 function imports leverage the function class in case the operation should use HTTP GET.
If instead the operation should use POST, use the action class.</p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="evaluating-responses">Evaluating Responses<a aria-hidden="true" class="hash-link" href="#evaluating-responses" title="Direct link to heading">â€‹</a></h3><p>Requests can be executed by supplying an HTTP client to the <code>execute</code> method.
You can obtain a client from any given destination as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">final HttpClient client = HttpClientAccessor.getHttpClient(destination);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// perform the HTTP operation:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">final ODataRequestResultGeneric result = request.execute(client);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Within <code>execute</code> the SAP Cloud SDK will perform a health check on the response.
In case of a status code greater or equal to 400 an exception will be thrown.</p><p>The result class allows for parsing the result into a specific Java type, getting metadata or even the raw HTTP response.
For example, you can parse the response body into a <code>SalesOrder</code> or a list of sales orders as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">SalesOrder order = result.as(SalesOrder.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Collection&lt;SalesOrder&gt; order = result.asList(SalesOrder.class);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="building-queries">Building Queries<a aria-hidden="true" class="hash-link" href="#building-queries" title="Direct link to heading">â€‹</a></h3><p>Queries can be build with dedicated, fluent builder classes.
Use the <code>StructuredQuery</code> class to create a query:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">StructuredQuery query = StructuredQuery.onEntity(&quot;Movies&quot;, ODataProtocol.V4);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// method names correspond to the OData query parameters $select, $filter, etc.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">query.select(&quot;Field A&quot;, &quot;Field B&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// obtain the encoded URL string representation:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String encodedQuery = query.getEncodedQueryString();</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>For filters there is a dedicated API to build filter expressions:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">FieldUntyped fieldA = FieldReference.of(&quot;Field A&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FieldUntyped fieldB = FieldReference.of(&quot;Field B&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ValueBoolean expression = fieldA.equalTo(&quot;foo&quot;).and(fieldB.greaterThan(42));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// add the expression as filter to a query:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">query.filter(expression);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="cookbook---generic-odata-client">Cookbook - Generic OData Client<a aria-hidden="true" class="hash-link" href="#cookbook---generic-odata-client" title="Direct link to heading">â€‹</a></h2><p>We collect popular use-cases and scenarios leveraging the Generic OData Client in this cookbook section.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="handling-odata-delta-token">Handling OData Delta Token<a aria-hidden="true" class="hash-link" href="#handling-odata-delta-token" title="Direct link to heading">â€‹</a></h3><p><a href="http://docs.oasis-open.org/odata/odata/v4.01/odata-v4.01-part1-protocol.html#sec_RequestingChanges" target="_blank" rel="noopener noreferrer">OData v4 specification</a> provides capabilities to return only a delta between your last and ongoing request.
For example, if your previous request loaded information from the service which continues to be updated with new records, then with your next request you can ask to provide you only with the difference between what you&#x27;ve already loaded and current records on the service side.
For that, you can leverage <code>$deltatokens</code> query parameter.</p><p>We do not provide convenience API for delta tokens in our type-safe client, but you can leverage generic OData client to fetch the delta link from the <code>response</code> metadata and extract <code>$deltatoken</code> from there as in the code snippet below.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">// Fetching of a $deltatoken from response metadata</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Nullable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private static String getDeltaTokenFromResponse( @Nonnull final ODataRequestResultGeneric response) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        final InputStream httpResponseContent = response.getHttpResponse().getEntity().getContent();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        final String deltaLink = new ObjectMapper().readTree(httpResponseContent).get(&quot;@odata.deltaLink&quot;).asText();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        final Matcher matcher = Pattern.compile(&quot;\\$deltatoken=(.*?)(&amp;|$)&quot;).matcher(deltaLink);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (matcher.find()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return matcher.group(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    catch(Exception e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // log exception with debug level</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Now you can create an OData request leveraging the <code>$deltatoken</code> token you have just fetched.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">// Composing a delta request with generic OData client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataRequestResultGeneric response = request.execute(httpClient);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String deltaToken = getDeltaTokenFromResponse(response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if( deltaToken!=null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    deltaRequest.addQueryParameter(&quot;$deltatoken&quot;, deltaToken);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="odata-v2-batch-read-request">OData v2 Batch Read Request<a aria-hidden="true" class="hash-link" href="#odata-v2-batch-read-request" title="Direct link to heading">â€‹</a></h3><p>For use cases that are not supported in the <a href="/cloud-sdk/docs/java/features/odata/use-typed-odata-v2-client-in-sap-cloud-sdk-for-java">type-safe client</a> you can choose to use the generic OData client.
Let&#x27;s see an example of how to use the generic OData client for batch requests for OData v2.</p><p>In the code snippet below we:</p><ol><li>Prepare an instance of <code>HttpClient</code> that will be used to execute the HTTP request.</li><li>Initialize a generic OData Batch request with OData service path and protocol version.</li><li>Build a read request for an OData entity collection and add it to the Batch request object.</li><li>Execute the Batch request.</li><li>Access the Batch response and fetch the list of fields from OData entities, that matched the applied read request.</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">HttpDestination destination;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String servicePath = &quot;/sap/opu/odata/sap/&lt;SERVICE_PATH&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String entityName = &quot;EntityCollectionName&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HttpClient httpClient = HttpClientAccessor.getHttpClient(destination);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// instantiate custom OData V2 batch request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataRequestBatch requestBatch = new ODataRequestBatch(servicePath, ODataProtocol.V2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// instantiate custom OData V2 read request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">StructuredQuery structuredQuery = StructuredQuery.onEntity(entityName, ODataProtocol.V2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">structuredQuery.select(&quot;Field1&quot;, &quot;Field2&quot;, &quot;Field3&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">structuredQuery.filter(FieldReference.of(&quot;Field4&quot;).equalTo(&quot;FooBar&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String encodedQuery = structuredQuery.getEncodedQueryString();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataRequestRead requestRead = new ODataRequestRead(servicePath, entityName, encodedQuery, ODataProtocol.V2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// add read request to batch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">requestBatch.addRead(requestRead);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// execute the batch request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataRequestResultMultipartGeneric batchResult = requestBatch.execute(httpClient);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// extract information from batch response, by referring to the individual OData request reference</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataRequestResultGeneric queryResult = batchResult.getResult(requestRead);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;Map&lt;String, Object&gt;&gt; listOfEntityFields = queryResult.asListOfMaps();</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This example is a great demonstration of how you can work around certain limitations of a type-safe client aka VDM, tackle advanced OData features, or even take care of misbehaving servers or OData standard deviations.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Batch requests in OData v2 are now supported in our typed clients and you no longer need to use the generic OData client for such requests.
Refer <a href="/cloud-sdk/docs/java/features/odata/use-typed-odata-v2-client-in-sap-cloud-sdk-for-java#batch-requests">here</a> for more details.</p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="call-odata-v4-bound-functions-and-actions">Call OData v4 Bound Functions and Actions<a aria-hidden="true" class="hash-link" href="#call-odata-v4-bound-functions-and-actions" title="Direct link to heading">â€‹</a></h3><p>Bound function and actions were freshly introduced in OData v4 specification.
We&#x27;ll soon provide a type-safe API to leverage these features in a convenient way.
If you already require using this functionality, we have a low-level implementation in place that is capable of performing bound function and action calls.</p><p>Below is a generic client example that you can use as a workaround:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">// this code will build the following URL:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// &quot;/service/Entity(key1=&#x27;foo%2Fbar&#x27;,key2=123)/Model.Function(param1=&#x27;foo%2Fbar&#x27;,param2=123)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataEntityKey key = new ODataEntityKey(ODataProtocol.V4)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addKeyProperty(&quot;key1&quot;, &quot;foo/bar&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addKeyProperty(&quot;key2&quot;, 123);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataFunctionParameters  params = new ODataFunctionParameters(ODataProtocol.V4)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addKeyProperty(&quot;param1&quot;, &quot;foo/bar&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addKeyProperty(&quot;param2&quot;, 123);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataResourcePath functionPath =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    new ODataResourcePath()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .addSegment(&quot;Entity&quot;, key)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .addSegment(&quot;Model.Function&quot;, params);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataRequestFunction request =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    new ODataRequestFunction(&quot;/service&quot;, functionPath, null, ODataProtocol.V4);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This is essentially what happens under the hood when you are using the generated type-safe client code.
When we release a support for type-safe calls you can replace these snippets with the fluent API.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="adding-trailing-slash-to-the-service-path">Adding Trailing Slash to the Service Path<a aria-hidden="true" class="hash-link" href="#adding-trailing-slash-to-the-service-path" title="Direct link to heading">â€‹</a></h3><p>By default, the SAP Cloud SDK strips all trailing slashes from a resource path.
It&#x27;s a standard behavior and works for 99% of productively available services.
Sometimes, however, services might complain or even fail if a path doesn&#x27;t end with a slash <code>/</code>.</p><ul><li><code>https://host/service-path/resource-path/?$filter...</code> - works</li><li><code>https://host/service-path/resource-path?$filter..</code> - doesn&#x27;t work (default URI composition strategy in the SAP Cloud SDK)</li></ul><p>To work around this situation you can use the generic OData client:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataRequestRead request = new ODataRequestRead(&quot;/service-path/resource-path/&quot;, &quot;&quot;, &quot;$filter=...&quot;, ODataProtocol.V2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// produces an URI like this: /service-path/resource-path/?$filter=...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HttpClient client = HttpClientAccessor.getHttpClient(destination);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataRequestResultGeneric result = request.execute(client);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="fetching-raw-stream-data-from-value-endpoint">Fetching Raw Stream Data from /$value Endpoint<a aria-hidden="true" class="hash-link" href="#fetching-raw-stream-data-from-value-endpoint" title="Direct link to heading">â€‹</a></h3><p>You can get <code>fileStream</code> and <code>responseHeaders</code> in a single request by using the low-level Generic OData Client.
Let&#x27;s take this dummy OData request as an example: <code>/FileService/FileCollection(id=&#x27;abc&#x27;)/$value?foo=bar</code></p><p>The corresponding code to fetch the raw file&#x27;s content will look like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HttpDestination destination;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataEntityKey entityKey = new ODataEntityKey(ODataProtocol.V2).addKeyProperty(&quot;id&quot;, &quot;abc&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataResourcePath resource = ODataResourcePath.of(&quot;FileCollection&quot;, entityKey).addSegment(&quot;$value&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataRequestReadByKey request = new ODataRequestReadByKey(&quot;FileService&quot;, resource, &quot;?foo=bar&quot;, ODataProtocol.V2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ODataRequestResultGeneric result = request.execute(HttpClientAccessor.getHttpClient(destination));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HttpResponse httpResponse = result.getHttpResponse();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Header[] responseHeaders = httpResponse.getAllHeaders();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">try( InputStream fileStream = httpResponse.getEntity().getContent(); ) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // do thing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Alternatively you can run the HTTP request yourself:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HttpDestination destination;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HttpClient httpClient = HttpClientAccessor.getHttpClient(destination);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HttpResponse httpResponse = httpClient.execute(new HttpGet(&quot;/FileService/FileCollection(id=&#x27;abc&#x27;)/$value&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Header[] responseHeaders = httpResponse.getAllHeaders();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">try( InputStream fileStream = httpResponse.getEntity().getContent(); ) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // do thing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div class="margin-vert--xl"><div class="docsRatingContainerBottom_3H3P"><div class="docsRating">Rate this page<svg class="i_negative" alt="Dislike" xmlns="http://www.w3.org/2000/svg" width="32px" height="32px" fill="currentColor" viewBox="0 0 32 32"><path d="M 10.15625 6 C 8.746094 6 7.515625 6.996094 7.21875 8.375 L 5.0625 18.375 C 4.667969 20.222656 6.113281 22 8 22 L 13.75 22 L 13.5625 22.75 C 13.359375 22.90625 13.230469 22.972656 12.9375 23.375 C 12.46875 24.015625 12 25.007813 12 26.34375 C 12 27.769531 13.289063 29 14.90625 29 L 15.3125 29 L 15.625 28.71875 L 22.40625 22 L 27 22 L 27 6 Z M 10.15625 8 L 21 8 L 21 20.59375 L 14.59375 26.90625 C 14.171875 26.824219 14 26.652344 14 26.34375 C 14 25.441406 14.273438 24.882813 14.53125 24.53125 C 14.789063 24.179688 14.96875 24.09375 14.96875 24.09375 L 15.3125 23.90625 L 15.4375 23.5 L 16.03125 21.25 L 16.34375 20 L 8 20 C 7.339844 20 6.894531 19.425781 7.03125 18.78125 L 9.15625 8.78125 C 9.257813 8.3125 9.679688 8 10.15625 8 Z M 23 8 L 25 8 L 25 20 L 23 20 Z"></path></svg><svg class="i_positive" alt="Like" xmlns="http://www.w3.org/2000/svg" width="32px" height="32px" fill="currentColor" viewBox="0 0 32 32"><path d="M 16.6875 3 L 16.375 3.28125 L 9.59375 10 L 5 10 L 5 26 L 21.84375 26 C 23.253906 26 24.484375 25.003906 24.78125 23.625 L 26.9375 13.625 C 27.332031 11.777344 25.886719 10 24 10 L 18.25 10 L 18.4375 9.25 C 18.640625 9.09375 18.769531 9.027344 19.0625 8.625 C 19.53125 7.984375 20 6.992188 20 5.65625 C 20 4.230469 18.710938 3 17.09375 3 Z M 17.40625 5.09375 C 17.828125 5.175781 18 5.347656 18 5.65625 C 18 6.558594 17.726563 7.117188 17.46875 7.46875 C 17.210938 7.820313 17.03125 7.90625 17.03125 7.90625 L 16.6875 8.09375 L 16.5625 8.5 L 15.96875 10.75 L 15.65625 12 L 24 12 C 24.660156 12 25.105469 12.574219 24.96875 13.21875 L 22.84375 23.21875 C 22.742188 23.6875 22.320313 24 21.84375 24 L 11 24 L 11 11.40625 Z M 7 12 L 9 12 L 9 24 L 7 24 Z"></path></svg></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/SAP/cloud-sdk/edit/main/docs/java/features/odata/generic-odata-client.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_1szQ"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2021-11-20T10:12:48.000Z">11/20/2021</time></b> by <b>Matthias Kuhr</b></span></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/cloud-sdk/docs/java/features/odata/use-typed-odata-v4-client-in-sap-cloud-sdk-for-java"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->OData v4 Client API</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/cloud-sdk/docs/java/features/rest/overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#basic-api-usage" class="table-of-contents__link toc-highlight">Basic API Usage</a><ul><li><a href="#creating-requests" class="table-of-contents__link toc-highlight">Creating Requests</a></li><li><a href="#evaluating-responses" class="table-of-contents__link toc-highlight">Evaluating Responses</a></li><li><a href="#building-queries" class="table-of-contents__link toc-highlight">Building Queries</a></li></ul></li><li><a href="#cookbook---generic-odata-client" class="table-of-contents__link toc-highlight">Cookbook - Generic OData Client</a><ul><li><a href="#handling-odata-delta-token" class="table-of-contents__link toc-highlight">Handling OData Delta Token</a></li><li><a href="#odata-v2-batch-read-request" class="table-of-contents__link toc-highlight">OData v2 Batch Read Request</a></li><li><a href="#call-odata-v4-bound-functions-and-actions" class="table-of-contents__link toc-highlight">Call OData v4 Bound Functions and Actions</a></li><li><a href="#adding-trailing-slash-to-the-service-path" class="table-of-contents__link toc-highlight">Adding Trailing Slash to the Service Path</a></li><li><a href="#fetching-raw-stream-data-from-value-endpoint" class="table-of-contents__link toc-highlight">Fetching Raw Stream Data from /$value Endpoint</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/cloud-sdk/docs/overview/overview-cloud-sdk">SAP Cloud SDK overview</a></li><li class="footer__item"><a class="footer__link-item" href="/cloud-sdk/docs/java/getting-started">SAP Cloud SDK for Java</a></li><li class="footer__item"><a class="footer__link-item" href="/cloud-sdk/docs/js/getting-started">SAP Cloud SDK for JS</a></li><li class="footer__item"><a href="https://developers.sap.com/tutorial-navigator.html?tag=products:technology-platform/sap-cloud-sdk/sap-cloud-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>SAP Cloud SDK Tutorials<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Additional Resources</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/sap-cloud-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://developers.sap.com/topics/cloud-sdk.html" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>SAP Developers Portal<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://community.sap.com/topics/cloud-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>SAP Cloud SDK Community Page<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://help.sap.com/viewer/product/SAP_CLOUD_SDK/1.0/en-US?task=discover_task" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>SAP Cloud SDK on SAP Help<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Package Repositories</div><ul class="footer__items"><li class="footer__item"><a href="https://www.npmjs.com/search?q=%40sap-cloud-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>SAP Cloud SDK for JavaScript<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.npmjs.com/search?q=%40sap%2Fcloud-sdk-vdm-*" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Typescript client libraries for SAP S/4HANA<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://search.maven.org/search?q=g:com.sap.cloud.sdk*" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>SAP Cloud SDK for Java<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 SAP SE or an SAP affiliate company. All rights reserved.</div></div></div></footer></div>
<script src="/cloud-sdk/assets/js/runtime~main.11894c1d.js"></script>
<script src="/cloud-sdk/assets/js/main.dce18013.js"></script>
</body>
</html>